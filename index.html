<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Searchable Data</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
</head>
<body>
  <h2 style="text-align:center;">ðŸ“Š Inflation Data Search</h2>
  <table id="myTable" class="display" style="width:100%"></table>

  <script>
    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQWypNkAWtjzGTCzkaGisWnQvpH4w5oTzMiFLrAe_HwICSHzkh9hbRa06lC2eOzbamIxqHpJBJL_FBp/pub?output=csv";

    async function loadCSV() {
      const response = await fetch(csvUrl);
      const data = await response.text();
      const rows = data.split("\n").map(r => r.split(","));

      const headers = rows[0];
      const tableData = rows.slice(1);

      $('#myTable').DataTable({
        data: tableData,
        columns: headers.map(h => ({ title: h })),
        pageLength: 25
      });
    }

    loadCSV();
  </script>
</body>
</html>
