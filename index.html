<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ðŸ“Š Inflation Data</title>
  
  <!-- DataTables core CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  
  <!-- Extensions CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/fixedheader/3.4.0/css/fixedHeader.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/2.3.1/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/select/1.7.0/css/select.dataTables.min.css">

  <!-- jQuery + DataTables core JS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  
  <!-- Extensions JS -->
  <script src="https://cdn.datatables.net/fixedheader/3.4.0/js/dataTables.fixedHeader.min.js"></script>
  <script src="https://cdn.datatables.net/searchpanes/2.3.1/js/dataTables.searchPanes.min.js"></script>
  <script src="https://cdn.datatables.net/select/1.7.0/js/dataTables.select.min.js"></script>

  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { text-align: center; }
  </style>
</head>
<body>
  <h2>ðŸ“Š Inflation Data Search</h2>
  <table id="myTable" class="display" style="width:100%"></table>

  <script>
    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQWypNkAWtjzGTCzkaGisWnQvpH4w5oTzMiFLrAe_HwICSHzkh9hbRa06lC2eOzbamIxqHpJBJL_FBp/pub?output=csv";

    async function loadCSV() {
      const response = await fetch(csvUrl);
      const data = await response.text();
      const rows = data.split("\n").map(r => r.split(","));

      const headers = rows[0];
      const tableData = rows.slice(1);

      $('#myTable').DataTable({
        data: tableData,
        columns: headers.map(h => ({ title: h })),
        pageLength: 25,
        fixedHeader: true,      // âœ… Header always visible
        searchPanes: {          // âœ… Excel-like filters
          cascadePanes: true,
          initCollapsed: true
        },
        dom: 'Plfrtip'          // âœ… Enable filter panels + search box
      });
    }

    loadCSV();
  </script>
</body>
</html>
